language: java
jdk: oraclejdk8
sudo: required
env:
  global:
  - secure: Z/FyA+HT4avwniOKgrlfmBauw35TIHP07Qplo/RHJqBnTAntE80/Ck0yuppS3N0JaqcQ9BhcdwMnJezJy2TxwXizFTcUES/e+JifFjlgOCBvv2dD4s2WBJiRDs2heNBef5nz6cBr23nE3Lhm781ynPV1SF/QK9e2LPgHw8aOPKzpZXUr6g527hZuFr7Pr65cNBns2OvH6ca9BPVOnlmCxnvI5KKVWYZq6zDq3uYbPkQfNVbmtIYUdXAagk/Ew/A2rI9B9LWF/r58pkAoVC1F9byJzyAJ+sUhz+nw++9XQV3fIolXzKwhjnx89iTM/hblPHwEKxG6dE8nF7m9qDtNg6GwpjBbTKOnZX26PWcsJmetrY0HDcqxrtpgqBY0qCHQDgWaCON//VWCRQ7cdrpqgzGfdyYt2S4sgp7MJs1pkj24Tx84qMVEExxFGMmXIiqLE4TAcTcaMhXxPHsTSYlKsoOsaUu/2ug8NxxolYwe3BPnWRzIfTg50s0gRkwTVIix122d4MOIj0bB82ofOpdB/CH3cp8sFq6Sfc0lmVAO6q0uhghoBhHMP8stPwE0/fc/bqXO641kvyNKVOS4Z/YrWp6HyLEAAWr0txatm/YUkrOkBOeqGVvav5S+8k4Br79rf2hvbrCzhCmvquEnzCWQXpu4zxCJUXVvqJziC8RW3QQ=
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/2.10"
  - "$HOME/.gradle/caches/jars-1"
  - "$HOME/.gradle/daemon"
  - "$HOME/.gradle/wrapper"
script:
- "./gradlew license check --continue --stacktrace"
deploy:
  provider: script
  script: scripts/deploy-gh-pages.sh
  skip_cleanup: true
  on:
    branch: master
    tags: true
    condition: "$TRAVIS_TAG =~ ^v[0-9].*$"
